<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Cipher Lounge - Submit Log</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
</head>
<body class="bg-gradient-to-br from-gray-900 via-black to-gray-900 text-white font-mono min-h-screen flex flex-col">

  <!-- NAVBAR -->
  <%- include('./partials/header') %>

  <!-- HERO TITLE -->
  <section class="text-center mt-20 px-6 relative">
    <div class="absolute top-0 left-1/2 -translate-x-1/2 w-[600px] h-[400px] bg-green-500/20 rounded-full blur-3xl pointer-events-none"></div>

    <h1 class="text-5xl md:text-6xl font-extrabold mb-4 relative z-10 hero-title">
      Submit Logs
    </h1>
    <p class="text-gray-400 max-w-xl mx-auto mb-10 relative z-10 hero-sub">
      Every log leaves a trace. Send encrypted activity from behind the veil.
    </p>
  </section>

  <div class="max-w-md w-full mx-auto px-6 mb-20">
    <% if (typeof errors !== 'undefined' && errors.length) { %>
      <ul class="mb-4 text-red-400 list-disc list-inside">
        <% errors.forEach(e => { %><li><%= e.msg %></li><% }) %>
      </ul>
    <% } %>

    <form action="/messages/new" method="POST" class="bg-white/5 border border-green-400/20 rounded-2xl shadow-lg p-6 space-y-4">
      <div>
        <label class="block mb-1">Subject</label>
        <input
          type="text"
          name="subject"
          required
          maxlength="50"
          value=""
          class="w-full px-3 py-2 bg-black/40 border border-white/20 rounded text-white placeholder-gray-500"
          placeholder="Secret HashTitle"
        />
      </div>

      <div>
        <label class="block mb-1">Body</label>
        <textarea
          name="body"
          required
          minlength="10"
          maxlength="150"
          rows="5"
          class="w-full px-3 py-2 bg-black/40 border border-white/20 rounded text-white placeholder-gray-500"
          placeholder="Encrypted Message"
        ></textarea>
      </div>

      <button type="submit" class="w-full rounded-xl bg-green-500/90 text-white hover:bg-green-400 transition font-bold py-2">
        SEND TO SERVER
      </button>
    </form>
  </div>

  <!-- FOOTER -->
  <%- include('./partials/footer') %>

  <!-- GSAP ANIMATIONS -->
  <script>
    gsap.fromTo(".hero-title", { x: -1000 }, { x: 0, duration: 1, ease: "power1.out" });
    gsap.fromTo(".hero-sub", { opacity: 0, y: 80 }, { opacity: 1, y: 0, duration: 1, delay: 0.3, ease: "power4.out" });
  </script>
</body>
</html>
